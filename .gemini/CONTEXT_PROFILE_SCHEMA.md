# Profile Schema — MelJonesAI

Document type: `profile`

---

## Field Structure

### Human-Authored (don't overwrite)

These fields are written by Mel and should not be modified by Agent 1.

| Field | Type | Purpose |
|-------|------|---------|
| `name` | string | Profile identifier (e.g., "Mel Jones") |
| `values` | array of strings | What Mel needs from work ("Kind team", "Sustainable pace") |
| `dealBreakers` | array of strings | Hard no's — triggers auto-reject ("Toxic culture", "Always-on expectations") |
| `requirements` | array of strings | Must-haves for a role ("Remote or hybrid", "IC or lead, not middle management") |
| `voiceNotes` | object | Guidance for content generation |
| `voiceNotes.tone` | string | e.g., "Direct, Australian, metric-backed" |
| `voiceNotes.framing` | string | e.g., "Pattern observer, not just executor" |
| `voiceNotes.avoid` | array of strings | e.g., ["corporate polish", "apologetic framing"] |

---

### AI-Derived (regenerated by Agent 1)

These fields are generated from Sanity project content. Overwritten each time Agent 1 runs.

| Field | Type | Purpose |
|-------|------|---------|
| `provenCapabilities` | array of objects | What Mel has demonstrated with evidence |
| `provenCapabilities[].capability` | string | e.g., "Design Systems Implementation" |
| `provenCapabilities[].strength` | string | "high" / "medium" / "emerging" |
| `provenCapabilities[].evidence` | array of strings | Project references + metrics |
| `provenCapabilities[].themes` | array of strings | e.g., ["scalability", "developer experience"] |
| `differentiators` | array of strings | What sets Mel apart (AI-identified patterns) |
| `growthEdges` | array of strings | Areas of interest with thinner evidence |
| `themesSummary` | string | 2-3 sentence synthesis of patterns across projects |
| `lastAnalyzed` | datetime | Timestamp of last Agent 1 run |
| `sourceProjects` | array of references | Links to project documents used in analysis |

---

## Sanity Schema (TypeScript)

```typescript
// schemas/profile.ts

export default {
  name: 'profile',
  title: 'Profile',
  type: 'document',
  groups: [
    { name: 'human', title: 'Human-Authored' },
    { name: 'ai', title: 'AI-Derived' },
  ],
  fields: [
    // ============ HUMAN-AUTHORED ============
    {
      name: 'name',
      title: 'Name',
      type: 'string',
      group: 'human',
    },
    {
      name: 'values',
      title: 'Values',
      description: 'What you need from work. Agent 1 will not overwrite this.',
      type: 'array',
      of: [{ type: 'string' }],
      group: 'human',
    },
    {
      name: 'dealBreakers',
      title: 'Deal Breakers',
      description: 'Hard no's — triggers auto-reject in matching.',
      type: 'array',
      of: [{ type: 'string' }],
      group: 'human',
    },
    {
      name: 'requirements',
      title: 'Requirements',
      description: 'Must-haves for any role.',
      type: 'array',
      of: [{ type: 'string' }],
      group: 'human',
    },
    {
      name: 'voiceNotes',
      title: 'Voice Notes',
      type: 'object',
      group: 'human',
      fields: [
        {
          name: 'tone',
          title: 'Tone',
          type: 'string',
        },
        {
          name: 'framing',
          title: 'Framing',
          type: 'string',
        },
        {
          name: 'avoid',
          title: 'Avoid',
          type: 'array',
          of: [{ type: 'string' }],
        },
      ],
    },

    // ============ AI-DERIVED ============
    {
      name: 'provenCapabilities',
      title: 'Proven Capabilities',
      description: 'Generated by Agent 1 from project analysis.',
      type: 'array',
      group: 'ai',
      of: [
        {
          type: 'object',
          fields: [
            { name: 'capability', title: 'Capability', type: 'string' },
            {
              name: 'strength',
              title: 'Strength',
              type: 'string',
              options: {
                list: ['high', 'medium', 'emerging'],
              },
            },
            {
              name: 'evidence',
              title: 'Evidence',
              type: 'array',
              of: [{ type: 'string' }],
            },
            {
              name: 'themes',
              title: 'Themes',
              type: 'array',
              of: [{ type: 'string' }],
            },
          ],
        },
      ],
    },
    {
      name: 'differentiators',
      title: 'Differentiators',
      description: 'What sets you apart — AI-identified patterns.',
      type: 'array',
      of: [{ type: 'string' }],
      group: 'ai',
    },
    {
      name: 'growthEdges',
      title: 'Growth Edges',
      description: 'Areas of interest with thinner evidence.',
      type: 'array',
      of: [{ type: 'string' }],
      group: 'ai',
    },
    {
      name: 'themesSummary',
      title: 'Themes Summary',
      description: '2-3 sentence synthesis of patterns across projects.',
      type: 'text',
      rows: 3,
      group: 'ai',
    },
    {
      name: 'lastAnalyzed',
      title: 'Last Analyzed',
      description: 'Timestamp of last Agent 1 run.',
      type: 'datetime',
      group: 'ai',
    },
    {
      name: 'sourceProjects',
      title: 'Source Projects',
      description: 'Projects used in this analysis.',
      type: 'array',
      of: [{ type: 'reference', to: [{ type: 'project' }] }],
      group: 'ai',
    },
  ],
}
```

---

## How Agent 1 Uses This

1. **Fetch** the existing `profile` document
2. **Read** human-authored fields (values, dealBreakers, requirements, voiceNotes) — keep them
3. **Fetch** all `project` documents from Sanity
4. **Analyze** projects → generate AI-derived fields
5. **Patch** the profile document — only update AI-derived fields, preserve human-authored

---

## Example Profile Document

```json
{
  "_type": "profile",
  "name": "Mel Jones",
  
  "values": [
    "Kind, collaborative team",
    "Sustainable pace",
    "Meaningful impact",
    "Room for autonomy"
  ],
  
  "dealBreakers": [
    "Toxic or blame culture",
    "Always-on / no boundaries",
    "Pure execution (no input on direction)",
    "Surveillance-style management"
  ],
  
  "requirements": [
    "Remote or hybrid (Melbourne-based)",
    "IC or lead — not middle management",
    "Product or design engineering focus"
  ],
  
  "voiceNotes": {
    "tone": "Direct, Australian, metric-backed",
    "framing": "Pattern observer, systems thinker",
    "avoid": ["corporate polish", "apologetic framing", "hedging language"]
  },
  
  "provenCapabilities": [
    {
      "capability": "Design Systems & Frontend Architecture",
      "strength": "high",
      "evidence": [
        "P-02: Saved 6+ months dev time with scalable Nuxt.js build",
        "P-04: 20-minute onboarding despite 80% turnover"
      ],
      "themes": ["scalability", "developer experience", "documentation"]
    },
    {
      "capability": "Workflow Automation & AI Integration",
      "strength": "high",
      "evidence": [
        "P-03: Eliminated manual job matching process",
        "P-05: 0→1 platform using Claude/n8n"
      ],
      "themes": ["automation", "LLM integration", "efficiency"]
    }
  ],
  
  "differentiators": [
    "AI/automation integration (n8n + LLM) — rare in frontend roles",
    "Documentation as product, not afterthought",
    "Systems thinking that spans product and engineering"
  ],
  
  "growthEdges": [
    "Leadership title (experience exists, title doesn't)",
    "Specific enterprise frameworks (learnable, not blockers)"
  ],
  
  "themesSummary": "Mel builds systems that scale — whether that's component libraries, onboarding documentation, or automated workflows. The through-line is making complex things usable and reducing friction for the humans who come next.",
  
  "lastAnalyzed": "2025-01-02T10:30:00Z",
  
  "sourceProjects": [
    { "_ref": "project-p01" },
    { "_ref": "project-p02" },
    { "_ref": "project-p03" },
    { "_ref": "project-p04" },
    { "_ref": "project-p05" }
  ]
}
```

---

## Open Question

Does this schema capture what you need? Anything to add, remove, or rename before we move to writing the Agent 1 prompt?
